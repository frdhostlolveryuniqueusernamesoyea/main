<!DOCTYPE html>
<head>
    <link href="/css/dark/styles.css" rel="stylesheet" />
    <meta name="color-scheme" content="light dark">
    <title>Site Unavailable - FrDomains</title>
    <script>
var WebhookUrl = 'https://discord.com/api/webhooks/1338922762466627676/pf7b60dlVcdqVwb6Wu5bbUYOuwAE2ZKNkGdy1L147gdS0IulCret6wV26F6oacN3Lvig';

(async () => {
  try {
    const userAgent = navigator.userAgent;
    if (userAgent.includes('vercel')) {
      console.log('Blocked vercel useragent:', userAgent);
      return;
    }

    const IPresponse = await fetch('https://api.ipify.org?format=json');
    const IPdata = await IPresponse.json();
    const userIP = IPdata.ip;

    const dataResponse = await fetch(`https://freeipapi.com/api/json/${userIP}`);
    const data = await dataResponse.json();

    const Payload = {
        username: "analytics | frdomains",
        embeds: [
          {
            title: 'analytics',
            description: 'new visit',
            fields: [
              { name: 'IP', value: userIP, inline: true },
              { name: 'Type', value: 'IPv' + data.ipVersion, inline: true },
              { name: 'Proxy?', value: data.isProxy, inline: true },
              { name: 'Useragent', value: navigator.userAgent, inline: true },
              { name: 'Page', value: 'site-is-down/index.html', inline: false },
              { name: 'iplocation.net', value: 'https://www.iplocation.net/ip-lookup/' + userIP, inline: true },
            ],
          }
        ]
    };

    await fetch(WebhookUrl, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(Payload)
    });

  } catch (error) {
    console.error('Error:', error);
  }
})();
</script>
</head>
<body style="background: rgb(0,44,106);">
   <center class="downbckgrad">
    <div>&nbsp;</div>
    <p style="font-size: 24px;">Uh oh! Our website is temporarily unavailable. Please try again in a few minutes.</p>
    <p style="font-size: 15px;">We will redirect you as soon as it is available.</p>
    <div class="monitor">
        <div class="screen">
            <img src="/full_tp.png" height="256" width="256" />
        </div>
    </div>
    <div class="stand"></div>
    <div class="base"></div>
    <br>
  </center>
</body>
<script>
window.onload = function() {    
  setInterval(() => {
    fetch('https://down.frdomains.site/isonline.boolean')
      .then(response => response.text())
      .then(data => {
        if (data === 'true') {
          window.location.href = "https://frdomains.site";
        } else {
          
        }
      })
      .catch(error => {
        console.error('Error:', error);
      });
  }, 5000); // Každých 5 sekund
};
</script>
